<!DOCTYPE html>
<html lang="en">

<head>
  <!-- <meta content="text/html;charset=utf-8" http-equiv="Content-Type"> -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Korea Gigmap</title>

  <!-- MapLibre -->
  <script src="https://unpkg.com/maplibre-gl/dist/maplibre-gl.js"></script>
  <link href="https://unpkg.com/maplibre-gl/dist/maplibre-gl.css" rel="stylesheet">

  <!-- Flatpickr for date calendar -->
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">

  <!-- Local CSS-->
  <link rel="stylesheet" href="./style.css">

  <!-- App -->
  <script src="./script.js"></script>

  <template id="popup-event-template">
    <div class="popup-event">
      <span class="event-label">Title</span><span class="event-title"></span>
      <span class="event-label">Artist</span><span class="event-artist"></span>
      <span class="event-label">Date</span><span class="event-date"></span>
      <span class="event-label">Time</span><span class="event-time"></span>
      <span class="event-label">Ticket</span><a class="event-ticket" target="_blank" rel="noopener noreferrer"></a>
      <hr>
    </div>
  </template>

  <template id="popup-template">
    <div class="popup-event"></div>
    <div class="popup-content">
      <div><strong class="place-name"></strong></div>
      <a class="place-link place-instagram-link" target="_blank" rel="noopener noreferrer">Instagram</a>
      <a class="place-link place-facebook-link" target="_blank" rel="noopener noreferrer">Facebook</a>
      <a class="place-link place-website-link" target="_blank" rel="noopener noreferrer">Website</a>
      <span class="road-address"></span>
      <div class="map-links">
        <!-- <a class="place-link kakao-map" target="_blank" rel="noopener noreferrer">Kakao</a> -->
        <!-- <a class="place-link naver-map" target="_blank" rel="noopener noreferrer">Naver</a> -->
      </div>
    </div>
  </template>
</head>

<body>
  <button id="event-info-toggle" class="mobile-only">📅 <span id="calendar-date-label">Calendar</span></button>
  <div id="event-info">
    <div id="event-info-header">
      <h3>Korea Gig Map</h3>
      <div>
        Displaying <span class="event-info-number" id="event-info-event-count">X</span> events
        across <span class="event-info-number" id="event-info-venue-count">Z</span> venues
        on <span class="event-info-number" id="event-info-date-count">Y</span> dates
        (until <span class="event-info-number" id="event-info-end-date"></span>).
        <br><br>
        <span class="source-tag-indie">Indie show data sourced from <b><a href="https://showdeerocks.com/">쇼디락스</a></b></span>
        <br>
        <span class="source-tag-ra">Electronic music events sourced from <b><a href="https://ra.co">RA</a></b></span>
      </div>
    </div>
    <div id="event-calendar"></div>
  </div>
  <div id="map"></div>
</body>

</html>